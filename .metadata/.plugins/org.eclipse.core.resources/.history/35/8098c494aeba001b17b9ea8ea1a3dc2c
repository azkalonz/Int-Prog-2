<%@taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%>
<jsp:include page="/WEB-INF/layout/header.jsp" />
	<main>
        <div class="container">
            <jsp:include page="/WEB-INF/layout/nav.jsp" />
            
             <div class="content">
                <div class="payroll">
                    <h1>Pay Roll</h1>
                    <input type="text" name="daterange" value="01/01/2018 - 01/15/2018" />

<script>
var getUrlParameter = function getUrlParameter(sParam) {
    var sPageURL = window.location.search.substring(1),
        sURLVariables = sPageURL.split('&'),
        sParameterName,
        i;

    for (i = 0; i < sURLVariables.length; i++) {
        sParameterName = sURLVariables[i].split('=');

        if (sParameterName[0] === sParam) {
            return typeof sParameterName[1] === undefined ? true : decodeURIComponent(sParameterName[1]);
        }
    }
    return false;
};
console.log()
$(function() {
	let endDate = getUrlParameter("dateEnd");
	let startDate = getUrlParameter("dateStart");
	
	endDate = endDate.split("/");
	const l1 = endDate[0];
	endDate[0] = endDate[1];
	endDate[1] = l1;
	
	startDate = startDate.split("/");
	const l2 = startDate[0];
	startDate[0] = startDate[1];
	startDate[1] = l2;
	
	endDate = endDate.join("/")
	startDate = startDate.join("/")
  $('input[name="daterange"]').daterangepicker({
    opens: 'left',
    startDate,
    endDate,
  }, function(start, end, label) {
    window.location = "/Int_Prog_2/report?page=report&id=${employee.employeeID}&dateStart="+start.format('D/MM/YYYY')+"&dateEnd="+end.format('D/MM/YYYY')
  });
});
</script>
<c:forEach items="${reports}" var="report">
	<b>${report['date_in']}</b>
</c:forEach>
                    <br><br>
                    <table>
                        <thead>
                            <th>Employee ID</th>
                            <th>Name</th>
                            <th>No. of Hours</th>
                            <th>Rate per Hour</th>
                            <th>Pay</th>
                        </thead>
                        <tbody>
                            <tr>
                                <td>1</td>
                                <td>Ayade, Mark Raymond M</td>
                                <td>172.7</td>
                                <td>Php. 67.00</td>
                                <td>Php. 11,570.90</td>
                            </tr>
                            <tr>
                                <td>1</td>
                                <td>Ayade, Mark Raymond M</td>
                                <td>172.7</td>
                                <td>Php. 67.00</td>
                                <td>Php. 11,570.90</td>
                            </tr>
                            <tr>
                                <td>1</td>
                                <td>Ayade, Mark Raymond M</td>
                                <td>172.7</td>
                                <td>Php. 67.00</td>
                                <td>Php. 11,570.90</td>
                            </tr>
                            <tr>
                                <td>1</td>
                                <td>Ayade, Mark Raymond M</td>
                                <td>172.7</td>
                                <td>Php. 67.00</td>
                                <td>Php. 11,570.90</td>
                            </tr>
                            <tr>
                                <td>1</td>
                                <td>Ayade, Mark Raymond M</td>
                                <td>172.7</td>
                                <td>Php. 67.00</td>
                                <td>Php. 11,570.90</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </main>
    <script src="<%=request.getContextPath()%>/script/dtr.js"></script>
<jsp:include page="/WEB-INF/layout/footer.jsp" />